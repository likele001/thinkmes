<div class="card" style="max-width:520px;margin:40px auto;">
  <div class="card-header">注册</div>
  <div class="card-body">
    <form id="form-register">
      <div class="form-group">
        <label>用户名</label>
        <input type="text" class="form-control" name="username" placeholder="用户名">
      </div>
      <div class="form-group">
        <label>邮箱</label>
        <input type="email" class="form-control" name="email" placeholder="邮箱">
      </div>
      <div class="form-group">
        <label>密码</label>
        <input type="password" class="form-control" name="password" placeholder="密码">
      </div>
      <button type="submit" class="btn btn-primary btn-block">注册</button>
      <div style="margin-top:10px;">
        已有账号？<a href="/user/login">去登录</a>
      </div>
    </form>
  </div>
</div>
<script>
$(function(){
  $('#form-register').on('submit', function(e){
    e.preventDefault();
    var data = $(this).serialize();
    $.post('/api/user/register', data, function(r){
      if(r.code===1){
        alert('注册成功，请登录');
        location.href = '/user/login';
      }else{
        alert(r.msg||'注册失败');
      }
    }, 'json');
  });
});
</script>
